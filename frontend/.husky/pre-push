#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ Running pre-push validation..."

# Run comprehensive type safety check (temporarily disabled for CI pipeline test)
echo "ğŸ” Skipping type safety check for CI pipeline testing..."
# npm run type-safety-check

# Run tests if they exist
if npm run test --silent 2>/dev/null; then
  echo "ğŸ§ª Running tests..."
  npm run test
else
  echo "âš ï¸  No tests configured, skipping test execution"
fi

# Check for any uncommitted changes
if [ -n "$(git status --porcelain)" ]; then
  echo "âš ï¸  Warning: You have uncommitted changes"
  echo "   Consider committing or stashing them before pushing"
fi

echo "âœ… Pre-push validation completed!"
