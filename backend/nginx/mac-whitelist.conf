# MAC Address Whitelist Configuration
# This file provides MAC address-based access control for development
# Note: CORS is browser-based and doesn't have direct MAC access,
# so we use a custom header approach for development tools

# Map for MAC address whitelist (for development tools, not browsers)
map $http_x_mac_address $mac_whitelist {
    default 0;
    
    # Mendel's MacBook MAC address
    "2a:7f:6d:ae:4a:c9" 1;
    
    # Add other trusted MAC addresses here
    # "aa:bb:cc:dd:ee:ff" 1;
}

# Map for trusted development IPs
map $remote_addr $dev_ip_whitelist {
    default 0;
    
    # Mendel's current local IP
    "192.168.40.237" 1;
    
    # Add other trusted development IPs here
    # "192.168.1.100" 1;
    # "10.0.0.50" 1;
}

# Combined whitelist check
map "$mac_whitelist:$dev_ip_whitelist" $is_whitelisted {
    default 0;
    "1:0" 1;  # MAC whitelisted
    "0:1" 1;  # IP whitelisted
    "1:1" 1;  # Both whitelisted
}
